#include <stdio.h>
#include <stdlib.h>

//funktion zum einlesen der Zeichenketten und erweitern des speichers
char* zeichenketteEinlesen(void){
int KetteNo=1;          //zählvariable
char * ZeichenKette='NULL';    //pointer auf die Zeichenkette

ZeichenKette=(char *)calloc(KetteNo,sizeof(char));  //reserviere Speicher für 1 Zeichen und eins für das String Ende Zeichen und initialisiere direkt mit 0

//pruefe ob Speicher erfolgreich reserviert wurde
if(ZeichenKette=='NULL'){
printf("Der Speicher konnte nicht reserviert werden.\n");
printf("Bitte bestaetigen sie mit der EnterTaste\n");
scanf("%c",&KetteNo);
return;
}

//Lese Solange ein bis das letzte eingegebene Zeichen Enter war war
do{
//erweitere Speicher
ZeichenKette=realloc(ZeichenKette,(KetteNo+1)*sizeof(char));

//pruefe ob Speicher erfolgreich reserviert wurde
if(ZeichenKette=='NULL'){
printf("Der Speicher konnte nicht reserviert werden.\n");
printf("Bitte bestaetigen sie mit der EnterTaste\n");
scanf("%c",&KetteNo);
return;
}

//lese Zeichen ein
ZeichenKette[KetteNo-1]= getchar();
//Zaehle ein Zeichen hoch
KetteNo++;

//pruefe ob das letzte eingegebene Zeichen Enter war
}while(ZeichenKette[KetteNo-2]!='\n'&&ZeichenKette[KetteNo-2]!='\r');

//gebe die Adresse der Zeichenkette zurück
return ZeichenKette;
}



int main()
{
char * ZeichenKetten[3];    //pointer für die ZeichenKetten
int KetteNo=0;              //Zählvariable

//lese Zeichenketten ein
for(KetteNo=0;KetteNo<sizeof(ZeichenKetten)/7;KetteNo++){
//Eingabeaufforderung
printf("Bitte geben sie die %i. Zeichenkette ein\n",KetteNo);
printf("und bestaetigen sie ihre Eingabe mit der Enter Taste.\n\n");
//rufe funktion zum einlesen auf
ZeichenKetten[KetteNo]=zeichenketteEinlesen();
}

//gebe Zeichenketten aus
for(KetteNo=0;KetteNo<sizeof(ZeichenKetten)/7;KetteNo++){
printf("Kette No.%i = %s\n",KetteNo,ZeichenKetten[KetteNo]);
}

//gebe Speicher wieder frei
for(KetteNo=0;KetteNo<sizeof(ZeichenKetten)/7;KetteNo++){
free(ZeichenKetten[KetteNo]);
}
    return 0;
}
